(function($,Drupal,once){var hasLocalStorage=(function(){try{localStorage.setItem('webform','webform');localStorage.removeItem('webform');return!0}catch(e){return!1}}());var hasSessionStorage=(function(){try{sessionStorage.setItem('webform','webform');sessionStorage.removeItem('webform');return!0}catch(e){return!1}}());Drupal.behaviors.webformMessageClose={attach:function(context){$(once('webform-message--close','.js-webform-message--close',context)).each(function(){var $element=$(this);var id=$element.attr('data-message-id');var storage=$element.attr('data-message-storage');var effect=$element.attr('data-message-close-effect')||'hide';switch(effect){case 'slide':effect='slideUp';break;case 'fade':effect='fadeOut';break}
if(isClosed($element,storage,id)){return}
if($element.attr('style')!=='display: none;'&&!$element.hasClass('js-webform-states-hidden')){$element.show()}
$element.find('.js-webform-message__link').on('click',function(event){$element[effect]();setClosed($element,storage,id);$element.trigger('close');event.preventDefault()})})}};function isClosed($element,storage,id){if(!id||!storage){return!1}
switch(storage){case 'local':if(hasLocalStorage){return localStorage.getItem('Drupal.webform.message.'+id)||!1}
return!1;case 'session':if(hasSessionStorage){return sessionStorage.getItem('Drupal.webform.message.'+id)||!1}
return!1;default:return!1}}
function setClosed($element,storage,id){if(!id||!storage){return}
switch(storage){case 'local':if(hasLocalStorage){localStorage.setItem('Drupal.webform.message.'+id,!0)}
break;case 'session':if(hasSessionStorage){sessionStorage.setItem('Drupal.webform.message.'+id,!0)}
break;case 'user':case 'state':case 'custom':$.get($element.find('.js-webform-message__link').attr('href'));return!0}}})(jQuery,Drupal,once)
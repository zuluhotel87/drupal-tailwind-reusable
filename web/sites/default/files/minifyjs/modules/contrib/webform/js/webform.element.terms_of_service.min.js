(function($,Drupal,once){Drupal.webform=Drupal.webform||{};Drupal.webform.termsOfServiceModal=Drupal.webform.termsOfServiceModal||{};Drupal.webform.termsOfServiceModal.options=Drupal.webform.termsOfServiceModal.options||{};Drupal.behaviors.webformTermsOfService={attach:function(context){$(once('webform-terms-of-service','.js-form-type-webform-terms-of-service',context)).each(function(){var $element=$(this);var $a=$element.find('label a');var $details=$element.find('.webform-terms-of-service-details');var type=$element.attr('data-webform-terms-of-service-type');if(type==='modal'){var $title=$element.find('.webform-terms-of-service-details--title');if($title.length){$details.attr('title',$title.text());$title.remove()}
var options=$.extend({modal:!0,autoOpen:!1,minWidth:600,maxWidth:800},Drupal.webform.termsOfServiceModal.options);$details.dialog(options)}
if(type!=='modal'){$a.attr({'aria-expanded':!1,'aria-controls':$details.attr('id')})}
$a.on('click',openDetails).on('keydown',function(event){if(event.which===32||event.which===13){openDetails(event)}});function openDetails(event){if(type==='modal'){$details.dialog('open')}else{var expanded=($a.attr('aria-expanded')==='true');$a.attr('aria-expanded',!expanded);$details[expanded?'slideUp':'slideDown']()}
event.preventDefault()}})}}})(jQuery,Drupal,once)
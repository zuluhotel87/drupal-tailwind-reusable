(function($,Drupal){Drupal.webform=Drupal.webform||{};Drupal.webform.datePicker=Drupal.webform.datePicker||{};Drupal.webform.datePicker.options=Drupal.webform.datePicker.options||{};Drupal.behaviors.date={attach:function(context,settings){var $context=$(context);$(once('datePicker',$(context).find('input[data-drupal-date-format]'))).each(function(){var $input=$(this);var options=$.extend({changeMonth:!0,changeYear:!0},Drupal.webform.datePicker.options);if($input.hasData&&$input.hasData('datepicker-button')){options=$.extend({showOn:'both',buttonImage:settings.webform.datePicker.buttonImage,buttonImageOnly:!0,buttonText:Drupal.t('Select date')},Drupal.webform.datePicker.options)}
var dateFormat=$input.data('drupalDateFormat');options.dateFormat=dateFormat.replace('Y','yy').replace('y','y').replace('F','MM').replace('m','mm').replace('M','M').replace('n','m').replace('d','dd').replace('D','D').replace('j','d').replace('l','DD');if($input.attr('min')){options.minDate=$input.attr('min')}
if($input.attr('max')){options.maxDate=$input.attr('max')}
if(!options.yearRange&&$input.data('min-year')&&$input.data('max-year')){options.yearRange=$input.data('min-year')+':'+$input.attr('data-max-year')}
options.firstDay=settings.webform.dateFirstDay;if($input.attr('data-days')){var days=$input.attr('data-days').split(',');options.beforeShowDay=function(date){var day=date.getDay().toString();return[(days.indexOf(day)!==-1)?!0:!1]}}
var off=/chrom(e|ium)/.test(window.navigator.userAgent.toLowerCase())?'chrome-off-'+Math.floor(Math.random()*100000000):'off';$input.attr('autocomplete',off);$input.datepicker(options)})}}})(jQuery,Drupal)
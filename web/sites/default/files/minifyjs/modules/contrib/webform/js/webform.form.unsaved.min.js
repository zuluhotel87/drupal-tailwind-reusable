(function($,Drupal,once){var unsaved=!1;Drupal.behaviors.webformUnsaved={clear:function(){unsaved=!1},get:function(){return unsaved},set:function(value){unsaved=value},attach:function(context){if($(once('data-webform-unsaved','.js-webform-unsaved[data-webform-unsaved]')).length){unsaved=!0}else{$(once('webform-unsaved',$('.js-webform-unsaved :input:not(:button, :submit, :reset, [type="hidden"])'))).on('change keypress',function(event,param1){if(param1!=='webform.states'){unsaved=!0}})}
$(once('webform-unsaved',$('.js-webform-unsaved button, .js-webform-unsaved input[type="submit"]',context))).not('[data-webform-unsaved-ignore]').on('click',function(event){if($(this).hasClass('webform-button--reset')&&unsaved){if(!window.confirm(Drupal.t('Changes you made may not be saved.')+'\n\n'+Drupal.t('Press OK to leave this page or Cancel to stay.'))){return!1}}
unsaved=!1});if(typeof Drupal.Ajax!=='undefined'&&typeof Drupal.Ajax.prototype.beforeSubmitWebformUnsavedOriginal==='undefined'){Drupal.Ajax.prototype.beforeSubmitWebformUnsavedOriginal=Drupal.Ajax.prototype.beforeSubmit;Drupal.Ajax.prototype.beforeSubmit=function(form_values,element_settings,options){unsaved=!1;return this.beforeSubmitWebformUnsavedOriginal.apply(this,arguments)}}
if(window.CKEDITOR&&!CKEDITOR.webformUnsaved){CKEDITOR.webformUnsaved=!0;CKEDITOR.on('instanceCreated',function(event){event.editor.on('change',function(evt){unsaved=!0})})}}};$(window).on('beforeunload',function(){if(unsaved){return!0}});$(function(){var isIOSorOpera=navigator.userAgent.toLowerCase().match(/iphone|ipad|ipod|opera/)||navigator.platform.toLowerCase().match(/iphone|ipad|ipod/)||(navigator.platform==='MacIntel'&&navigator.maxTouchPoints>1);if(!isIOSorOpera){return}
$('a:not(.use-ajax)').bind('click',function(evt){var a=$(evt.target).closest('a');var href=a.attr('href');if(typeof href!=='undefined'&&!(href.match(/^#/)||href.trim()==='')){if($(window).triggerHandler('beforeunload')){if(!window.confirm(Drupal.t('Changes you made may not be saved.')+'\n\n'+Drupal.t('Press OK to leave this page or Cancel to stay.'))){return!1}}
var target=a.attr('target');if(target){window.open(href,target)}else{window.location.href=href}
return!1}})})})(jQuery,Drupal,once)
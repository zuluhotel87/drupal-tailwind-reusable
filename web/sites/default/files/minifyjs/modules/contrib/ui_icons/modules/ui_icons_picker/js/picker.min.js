(($,Drupal,once)=>{function openDialog(event){event.preventDefault();const element=event.target||event.srcElement;const ajaxSettings={element,progress:{type:'none'},url:element.getAttribute('data-dialog-url'),dialogType:'modal',httpMethod:'GET',dialog:{classes:{'ui-dialog':'icon-library-widget-modal',},title:Drupal.t('Select icon'),height:'95%',width:'95%',query:{wrapper_id:element.getAttribute('data-wrapper-id'),allowed_icon_pack:element.getAttribute('data-allowed-icon-pack'),},},};const myAjaxObject=Drupal.ajax(ajaxSettings);myAjaxObject.execute()}
Drupal.behaviors.icon_dialog={attach(context){once('dialog','input.form-icon-dialog',context).forEach((element)=>{element.addEventListener('click',openDialog)})},};Drupal.AjaxCommands.prototype.updateIconLibrarySelection=function(ajax,response,status,){const elem=document.querySelector(`#${response.wrapper_id} input[name$='icon_id]']`,);elem.value=response.icon_full_id;jQuery(elem).trigger('change')}})(jQuery,Drupal,once)
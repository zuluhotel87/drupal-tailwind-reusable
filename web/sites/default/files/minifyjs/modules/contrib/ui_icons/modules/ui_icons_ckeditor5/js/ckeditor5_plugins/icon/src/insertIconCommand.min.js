import{Command}from 'ckeditor5/src/core';function createDrupalIcon(writer,attributes){const drupalIcon=writer.createElement('drupalIcon',attributes);return drupalIcon}
export default class InsertIconCommand extends Command{execute(settings){if(!settings.icon){return}
const modelAttributes={drupalIconId:settings.icon,drupalIconSettings:JSON.stringify(settings.icon_settings),};this.editor.model.change((writer)=>{this.editor.model.insertObject(createDrupalIcon(writer,modelAttributes))})}
refresh(){const model=this.editor.model;const selection=model.document.selection;const allowedIn=model.schema.findAllowedParent(selection.getFirstPosition(),'drupalIcon',);this.isEnabled=allowedIn!==null}}
(($,Drupal)=>{Drupal.FieldGroup=Drupal.FieldGroup||{};Drupal.FieldGroup.Effects=Drupal.FieldGroup.Effects||{};Drupal.behaviors.horizontalTabs={attach(context){const width=drupalSettings.widthBreakpoint||640;const mq=`(max-width: ${width}px)`;if(window.matchMedia(mq).matches){return}
$(once('horizontal-tabs','[data-horizontal-tabs]',context)).each((indexTabsWrapper,tabsWrapper)=>{const horizontalTabsClearfix=tabsWrapper;$(tabsWrapper).find('> [data-horizontal-tabs-panes]').each((indexTabWrapper,tabWrapper)=>{const $this=$(tabWrapper).addClass('horizontal-tabs-panes');const focusID=$(':hidden.horizontal-tabs-active-tab',tabWrapper,).val();let tabFocus;const $details=$this.find('> details');if($details.length===0){return}
const tabList=$(horizontalTabsClearfix).find('> [data-horizontal-tabs-list]',);tabList.removeClass('visually-hidden');let summary;$details.each((i,element)=>{const $thisDetail=$(element);const summaryElement=$thisDetail.find('> summary');const detailsTitle=summaryElement.first().find('.details-title');if(detailsTitle.length){summary=detailsTitle.find('> span:last-child').html().trim()}else{summary=summaryElement.clone().html().trim()||summaryElement.find('> span:first-child').html().trim()}
const horizontalTab=new Drupal.HorizontalTab({title:summary,details:$thisDetail,});horizontalTab.item.addClass(`horizontal-tab-button-${i}`);horizontalTab.item.attr('data-horizontalTabButton',i);tabList.append(horizontalTab.item);$thisDetail.removeClass('collapsed').attr('open',!0).addClass('horizontal-tabs-pane').data('horizontalTab',horizontalTab);if(element.id===focusID){tabFocus=$thisDetail}});$(tabList).find('> li:first').addClass('first');$(tabList).find('> li:last').addClass('last');if(!tabFocus){const hash=window.location.hash.replace(/[=%;,\/]/g,'');if(hash!=='#'&&$(hash,this).length){tabFocus=$(hash,this).closest('.horizontal-tabs-pane')}else{tabFocus=$this.find('> .horizontal-tabs-pane:first')}}
if(tabFocus.length){tabFocus.data('horizontalTab').focus()}})},)},};Drupal.HorizontalTab=function horizontalTab(settings){const self=this;$.extend(this,settings,Drupal.theme('horizontalTab',settings));this.link.attr('href',`#${settings.details.attr('id')}`);this.link.on('click',(e)=>{e.preventDefault();self.focus()});this.link.on('keydown',(event)=>{if(event.keyCode===13){event.preventDefault();self.focus();$('.horizontal-tabs-pane :input:visible:enabled:first').trigger('focus',)}});if(this.details.drupalGetSummary){this.details.on('summaryUpdated',()=>{self.updateSummary()}).trigger('summaryUpdated')}};Drupal.HorizontalTab.prototype={focus(){this.details.removeClass('horizontal-tab-hidden').siblings('.horizontal-tabs-pane').each((index,element)=>{const tab=$(element).data('horizontalTab');tab.details.addClass('horizontal-tab-hidden');tab.details.hide();tab.item.removeClass('selected')}).end().show().siblings(':hidden.horizontal-tabs-active-tab').val(this.details.attr('id'));this.item.addClass('selected');$('#active-horizontal-tab').remove();this.link.append(`<span id="active-horizontal-tab" class="visually-hidden">${Drupal.t(
          '(active tab)',
        )}</span>`,)},updateSummary(){this.summary.html(this.details.drupalGetSummary())},tabShow(){this.item.removeClass('horizontal-tab-hidden');this.item.show();this.item.parent().children('.horizontal-tab-button').removeClass('first').filter(':visible:first').addClass('first');this.details.removeClass('horizontal-tab-hidden');this.focus();return this},tabHide(){this.item.addClass('horizontal-tab-hidden');this.item.hide();this.item.parent().children('.horizontal-tab-button').removeClass('first').filter(':visible:first').addClass('first');this.details.addClass('horizontal-tab-hidden');const $firstTab=this.details.siblings('.horizontal-tabs-pane:not(.horizontal-tab-hidden):first',);if($firstTab.length){$firstTab.data('horizontalTab').focus()}else{this.item.closest('.form-type-horizontal-tabs').hide()}
return this},};Drupal.theme.horizontalTab=(settings)=>{const tab={};const idAttr=settings.details.attr('id');tab.item=$('<li class="horizontal-tab-button" tabindex="-1"></li>',).append((tab.link=$(`<a href="#${idAttr}"></a>`).append((tab.title=$('<strong></strong>').html(settings.title)),)),);if(settings.details.drupalGetSummary){tab.link.append((tab.summary=$('<span class="summary"></span>')))}
return tab}})(jQuery,Drupal)
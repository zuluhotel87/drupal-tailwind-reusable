(($)=>{Drupal.FieldGroup=Drupal.FieldGroup||{};Drupal.FieldGroup.Effects=Drupal.FieldGroup.Effects||{};Drupal.FieldGroup.Effects.processAccordion={execute(context,settings,groupInfo){$(once('fieldgroup-effects','div.field-group-accordion-wrapper',context,),).each((index,elementWrapper)=>{const wrapper=$(elementWrapper);let activeIndex=!1;wrapper.find('.accordion-item').each((i)=>{if($(this).hasClass('field-group-accordion-active')){activeIndex=i}});wrapper.accordion({heightStyle:'content',active:activeIndex,collapsible:!0,changestart(event,ui){if($(this).hasClass('effect-none')){ui.options.animated=!1}else{ui.options.animated='slide'}},});if(groupInfo.context==='form'){let $firstErrorItem=!1;wrapper.find('div.field-group-accordion-item').each((i,element)=>{const $this=$(element);if(element.matches('.required-fields')&&($this.find('[required]').length>0||$this.find('.form-required').length>0)){$('h3.ui-accordion-header a').eq(i).addClass('form-required')}
if($('.error',$this).length){if(!$firstErrorItem){$firstErrorItem=$this.parent().accordion('option','active',i)}
$('h3.ui-accordion-header').eq(i).addClass('error')}});if(!$firstErrorItem){$('.ui-accordion-content-active',$firstErrorItem).css({height:'auto',width:'auto',display:'block',})}}})},}})(jQuery)
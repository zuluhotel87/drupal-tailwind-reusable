(function($,Drupal,debounce){Drupal.behaviors.tableFilterByText={attach(context,settings){const[input]=once('table-filter-text','input.table-filter-text');if(!input){return}
const $table=$(input.getAttribute('data-table'));let $rowsAndDetails;let $rows;let $details;let searching=!1;function hidePackageDetails(index,element){const $packDetails=$(element);const $visibleRows=$packDetails.find('tbody tr:visible');$packDetails.toggle($visibleRows.length>0)}
function filterModuleList(e){const query=e.target.value;const re=new RegExp(`\\b${query}`,'i');function showModuleRow(index,row){const sources=row.querySelectorAll('.table-filter-text-source, .module-name, .module-description',);let sourcesConcat='';sources.forEach((item)=>{sourcesConcat+=` ${item.textContent}`});const textMatch=sourcesConcat.search(re)!==-1;$(row).closest('tr').toggle(textMatch)}
$rowsAndDetails.show();if(query.length>=2){searching=!0;$rows.each(showModuleRow);$details.not('[open]').attr('data-drupal-system-state','forced-open');$details.attr('open',!0).each(hidePackageDetails);Drupal.announce(Drupal.formatPlural($rowsAndDetails.filter('tbody tr:visible').length,'1 module is available in the modified list.','@count modules are available in the modified list.',),)}else if(searching){searching=!1;$rowsAndDetails.show();$details.filter('[data-drupal-system-state="forced-open"]').removeAttr('data-drupal-system-state').attr('open',!1)}}
function preventEnterKey(event){if(event.which===13){event.preventDefault();event.stopPropagation()}}
if($table.length){$rowsAndDetails=$table.find('tr, details');$rows=$table.find('tbody tr');$details=$rowsAndDetails.filter('.package-listing');$(input).on({input:debounce(filterModuleList,200),keydown:preventEnterKey,})}},}})(jQuery,Drupal,Drupal.debounce)
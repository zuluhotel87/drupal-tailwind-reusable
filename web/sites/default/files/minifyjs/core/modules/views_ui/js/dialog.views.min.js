(function($,Drupal,drupalSettings,bodyScrollLock){function handleDialogResize(e){const $modal=$(e.currentTarget);const $viewsOverride=$modal.find('[data-drupal-views-offset]');const $scroll=$modal.find('[data-drupal-views-scroll]');let offset=0;let modalHeight;if($scroll.length){$modal.closest('.views-ui-dialog').addClass('views-ui-dialog-scroll');$scroll.each(function(){Object.assign(this.style,{overflow:'visible',height:'auto',})});modalHeight=$modal.height();$viewsOverride.each(function(){offset+=$(this).outerHeight()});const scrollOffset=$scroll.outerHeight()-$scroll.height();$scroll.height(modalHeight-offset-scrollOffset);$modal.each(function(){this.style.overflow='hidden'});$scroll.each(function(){this.style.overflow='auto'})}}
Drupal.behaviors.viewsModalContent={attach(context){$(once('viewsDialog','body')).on('dialogContentResize.viewsDialog','.ui-dialog-content',handleDialogResize,);$(once('detailsUpdate','.scroll',context)).on('click','summary',(e)=>{e.currentTarget?.dispatchEvent(new CustomEvent('dialogContentResize',{bubbles:!0}),)},)},detach(context,settings,trigger){if(trigger==='unload'){$(once.remove('viewsDialog','body')).off('.viewsDialog')}},};window.addEventListener('dialog:aftercreate',(e)=>{const $element=$(e.target);const $scroll=$element.find('.scroll');if($scroll.length){bodyScrollLock.unlock($element.get(0));bodyScrollLock.lock($scroll.get(0))}})})(jQuery,Drupal,drupalSettings,bodyScrollLock)
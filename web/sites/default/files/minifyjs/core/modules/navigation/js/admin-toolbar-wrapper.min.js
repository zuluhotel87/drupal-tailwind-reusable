((Drupal,once)=>{const HTML_TRIGGER_EVENT='toggle-admin-toolbar';const SIDEBAR_CONTENT_EVENT='toggle-admin-toolbar-content';Drupal.behaviors.navigationProcessHtmlListener={attach:(context)=>{if(context===document){if(once('admin-toolbar-document-triggers-listener',document.documentElement,).length){const doc=document.documentElement;setTimeout(()=>{doc.setAttribute('data-admin-toolbar-transitions',!0)},200);doc.addEventListener(HTML_TRIGGER_EVENT,(e)=>{const newState=e.detail.state;const isUserInput=e.detail.manual;document.documentElement.setAttribute('data-admin-toolbar',newState?'expanded':'collapsed',);document.documentElement.setAttribute('data-admin-toolbar-body-scroll',newState?'locked':'unlocked',);doc.querySelector('.admin-toolbar')?.dispatchEvent(new CustomEvent(SIDEBAR_CONTENT_EVENT,{detail:{state:newState,},}),);if(isUserInput){document.documentElement.setAttribute('data-admin-toolbar-animating',!0,)}
setTimeout(()=>{document.documentElement.removeAttribute('data-admin-toolbar-animating',)},200);Drupal.displace(!0)});const initDisplace=()=>{const displaceElement=doc.querySelector('.admin-toolbar')?.querySelector('.admin-toolbar__displace-placeholder');const edge=document.documentElement.dir==='rtl'?'right':'left';displaceElement?.setAttribute(`data-offset-${edge}`,'');Drupal.displace(!0)};initDisplace()}}},};Drupal.behaviors.navigationProcessToolbarTriggers={attach:(context)=>{const triggers=once('admin-toolbar-trigger','[aria-controls="admin-toolbar"]',context,);const toggleTriggers=(toState)=>{triggers.forEach((trigger)=>{trigger.setAttribute('aria-expanded',toState);const text=trigger.querySelector('[data-toolbar-text]')||trigger.querySelector('[data-toolbar-action]');if(text){text.textContent=toState?Drupal.t('Collapse sidebar'):Drupal.t('Expand sidebar')}})};let firstState=localStorage.getItem('Drupal.navigation.sidebarExpanded')!=='false';if(window.matchMedia('(max-width: 1023px)').matches){firstState=!1}
toggleTriggers(firstState);document.documentElement.dispatchEvent(new CustomEvent(HTML_TRIGGER_EVENT,{bubbles:!0,detail:{state:firstState,manual:!1,},}),);triggers.forEach((trigger)=>{trigger.addEventListener('click',(e)=>{const state=e.currentTarget.getAttribute('aria-expanded')==='false';trigger.dispatchEvent(new CustomEvent(HTML_TRIGGER_EVENT,{bubbles:!0,detail:{state,manual:!0,},}),);toggleTriggers(state);localStorage.setItem('Drupal.navigation.sidebarExpanded',state)})})},}})(Drupal,once)
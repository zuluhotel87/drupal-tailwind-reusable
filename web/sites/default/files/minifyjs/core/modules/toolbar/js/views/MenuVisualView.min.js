(function($,Backbone,Drupal){Drupal.toolbar.MenuVisualView=Backbone.View.extend({initialize(){this.listenTo(this.model,'change:subtrees',this.render);this.render()},render(){this.renderVertical();this.renderHorizontal()},renderHorizontal(){if('drupalToolbarMenu' in $.fn){this.$el.children('.toolbar-menu').drupalToolbarMenuHorizontal()}},renderVertical(){const subtrees=this.model.get('subtrees');if(!this.model.get('subtrees')){return}
Object.keys(subtrees||{}).forEach((id)=>{$(once('toolbar-subtrees',this.$el.find(`#toolbar-link-${id}`)),).after(subtrees[id])});if('drupalToolbarMenu' in $.fn){this.$el.children('.toolbar-menu').drupalToolbarMenu()}},},)})(jQuery,Backbone,Drupal)
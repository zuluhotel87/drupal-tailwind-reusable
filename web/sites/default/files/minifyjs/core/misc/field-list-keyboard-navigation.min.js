(function(Drupal,{isFocusable}){Drupal.behaviors.fieldListKeyboardNavigation={attach(){once('keyboardNavigation','input[type="text"], input[type="number"]',document.querySelector('[data-field-list-table]'),).forEach((element)=>element.addEventListener('keypress',(event)=>{if(event.key!=='Enter'){return}
event.preventDefault();const currentElement=event.target;const findNextFocusableElement=(element)=>{const currentRow=element.closest('tr');const inputElements=currentRow.querySelectorAll('input[type="text"], input[type="number"]',);const afterIndex=[...inputElements].indexOf(element)+1;for(const inputElement of[...inputElements].slice(afterIndex)){if(isFocusable(inputElement)){return inputElement}}
const nextRow=currentRow.nextElementSibling;if(nextRow){return findNextFocusableElement(nextRow)}
return null};const nextFocusableElement=findNextFocusableElement(currentElement);if(nextFocusableElement){nextFocusableElement.focus();const value=nextFocusableElement.value;nextFocusableElement.value='';nextFocusableElement.value=value;return}
event.target.closest('[data-field-list-table]').parentNode.querySelector('[data-field-list-button]').dispatchEvent(new Event('mousedown'))}),)},}})(Drupal,window.tabbable)